{"ast":null,"code":"var _jsxFileName = \"/Users/avighnasuresh/Desktop/full-stack-final-google-keep/client/src/components/App.jsx\";\nimport React, { useEffect, useState } from \"react\";\nimport Header from \"./Header\";\nimport Note from \"./Note\";\nimport Footer from \"./Footer\";\nfunction App() {\n  const [title, setTitle] = useState(\"\");\n  const [content, setContent] = useState(\"\");\n  const [backendData, setBackendData] = useState([]);\n  const [dataUpdated, setDataUpdated] = useState(true);\n  useEffect(() => {\n    const storedData = JSON.parse(localStorage.getItem(\"notes\"));\n    if (storedData && storedData.length) {\n      setBackendData(storedData);\n    } else {\n      fetchNotes();\n    }\n  }, []);\n  async function fetchNotes() {\n    const response = await fetch(\"/api\");\n    const data = await response.json();\n    setBackendData(data);\n    localStorage.setItem(\"notes\", JSON.stringify(data));\n  }\n  function handleChangeTitle(event) {\n    setTitle(event.target.value);\n  }\n  function handleChangeContent(event) {\n    setContent(event.target.value);\n  }\n  function deleteNoteLocally(id) {\n    setBackendData(backendData.filter(note => note._id !== id));\n    localStorage.setItem(\"notes\", JSON.stringify(backendData.filter(note => note._id !== id)));\n  }\n  function deleteNote(id) {\n    deleteNoteLocally(id);\n    async function deleteData() {\n      const response = await fetch(\"/api/deleteData\", {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          id: id.toString()\n        })\n      });\n      if ((response === null || response === void 0 ? void 0 : response.status) !== 200) {\n        setDataUpdated(!dataUpdated);\n      }\n    }\n    deleteData();\n  }\n  function handleClick(event) {\n    event.preventDefault();\n    if (title.trim() === \"\" && content.trim() === \"\") {\n      alert(\"Please enter a title and content for your note\");\n      return;\n    } else if (title.trim() === \"\") {\n      alert(\"Please enter a title for your note\");\n      return;\n    } else if (content.trim() === \"\") {\n      alert(\"Please enter some content in your note\");\n      return;\n    }\n    const newNote = {\n      _id: Date.now(),\n      title: title,\n      content: content\n    };\n    setBackendData([...backendData, newNote]);\n    localStorage.setItem(\"notes\", JSON.stringify([...backendData, newNote]));\n    setTitle(\"\");\n    setContent(\"\");\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handleChangeTitle,\n    type: \"text\",\n    placeholder: \"Title\",\n    value: title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"textarea\", {\n    onChange: handleChangeContent,\n    type: \"text\",\n    placeholder: \"Take a note...\",\n    value: content,\n    rows: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }, \"+\")), backendData.length === 0 ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }, \"Loading notes...\") : backendData.map(note => /*#__PURE__*/React.createElement(Note, {\n    key: note._id,\n    id: note._id,\n    title: note.title,\n    content: note.content,\n    onDelete: deleteNote,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }\n  }));\n}\nexport default App;","map":{"version":3,"names":["React","useEffect","useState","Header","Note","Footer","App","title","setTitle","content","setContent","backendData","setBackendData","dataUpdated","setDataUpdated","storedData","JSON","parse","localStorage","getItem","length","fetchNotes","response","fetch","data","json","setItem","stringify","handleChangeTitle","event","target","value","handleChangeContent","deleteNoteLocally","id","filter","note","_id","deleteNote","deleteData","method","headers","body","toString","status","handleClick","preventDefault","trim","alert","newNote","Date","now","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","onChange","type","placeholder","rows","map","key","onDelete"],"sources":["/Users/avighnasuresh/Desktop/full-stack-final-google-keep/client/src/components/App.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Header from \"./Header\";\nimport Note from \"./Note\";\nimport Footer from \"./Footer\";\n\nfunction App() {\n  const [title, setTitle] = useState(\"\");\n  const [content, setContent] = useState(\"\");\n  const [backendData, setBackendData] = useState([]);\n  const [dataUpdated, setDataUpdated] = useState(true);\n\n  useEffect(() => {\n    const storedData = JSON.parse(localStorage.getItem(\"notes\"));\n    if (storedData && storedData.length) {\n      setBackendData(storedData);\n    } else {\n      fetchNotes();\n    }\n  }, []);\n\n  async function fetchNotes() {\n    const response = await fetch(\"/api\");\n    const data = await response.json();\n    setBackendData(data);\n    localStorage.setItem(\"notes\", JSON.stringify(data));\n  }\n\n  function handleChangeTitle(event) {\n    setTitle(event.target.value);\n  }\n\n  function handleChangeContent(event) {\n    setContent(event.target.value);\n  }\n\n  function deleteNoteLocally(id) {\n    setBackendData(backendData.filter((note) => note._id !== id));\n    localStorage.setItem(\n      \"notes\",\n      JSON.stringify(backendData.filter((note) => note._id !== id))\n    );\n  }\n\n  function deleteNote(id) {\n    deleteNoteLocally(id);\n\n    async function deleteData() {\n      const response = await fetch(\"/api/deleteData\", {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          id: id.toString(),\n        }),\n      });\n      if (response?.status !== 200) {\n        setDataUpdated(!dataUpdated);\n      }\n    }\n\n    deleteData();\n  }\n\n  function handleClick(event) {\n    event.preventDefault();\n\n    if (title.trim() === \"\" && content.trim() === \"\") {\n      alert(\"Please enter a title and content for your note\");\n      return;\n    } else if (title.trim() === \"\") {\n      alert(\"Please enter a title for your note\");\n      return;\n    } else if (content.trim() === \"\") {\n      alert(\"Please enter some content in your note\");\n      return;\n    }\n\n    const newNote = {\n      _id: Date.now(),\n      title: title,\n      content: content,\n    };\n\n    setBackendData([...backendData, newNote]);\n    localStorage.setItem(\n      \"notes\",\n      JSON.stringify([...backendData, newNote])\n    );\n    setTitle(\"\");\n    setContent(\"\");\n  }\n\n  return (\n    <div className=\"container\">\n      <Header />\n      <form onSubmit={handleClick}>\n        <input\n          onChange={handleChangeTitle}\n          type=\"text\"\n          placeholder=\"Title\"\n          value={title}\n        />\n        <br />\n        <textarea\n          onChange={handleChangeContent}\n          type=\"text\"\n          placeholder=\"Take a note...\"\n          value={content}\n          rows=\"2\"\n        />\n        <br />\n        <button type=\"submit\">+</button>\n      </form>\n      {backendData.length === 0 ? (\n        <p>Loading notes...</p>\n      ) : (\n        backendData.map((note) => (\n          <Note\n            key={note._id}\n            id={note._id}\n            title={note.title}\n            content={note.content}\n            onDelete={deleteNote}\n          />\n        ))\n      )}\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}